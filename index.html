<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="data:image/svg+xml,
<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22>
  <rect width=%22100%22 height=%22100%22 fill=%22%23007bff%22/>
  <text x=%2250%22 y=%2270%22 font-size=%2270%22 text-anchor=%22middle%22 fill=%22white%22>T</text>
</svg>">

    <title>Dynamic Practice Timer</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    background: #f0f2f5;
    margin: 0;
    display: flex;
    flex-direction: row;
    min-height: 100vh;
    overflow-x: hidden; 
}

.main-container {
    flex: 1;
    text-align: center;
    padding: 20px;
    min-width: 0;
}


        h1 {
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        input {
            margin: 5px;
            padding: 8px;
            width: 120px;
            max-width: 100%;
        }

        button {
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
            border: none;
            background: #007bff;
            color: white;
            font-size: 14px;
        }

        button:disabled {
            background: #aaa;
            cursor: not-allowed;
        }

        #timerDisplay {
            font-size: 2rem;
            margin: 20px 0;
        }

        #questionDisplay {
            font-size: 1.2rem;
            margin: 10px 0;
        }

        #log {
            margin-top: 20px;
            text-align: left;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        #log h2 {
            text-align: center;
            font-size: 1.2rem;
        }

        .log-entry {
            border-bottom: 1px solid #ccc;
            padding: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.95rem;
        }

        .status {
            font-size: 20px;
            margin-left: 10px;
        }

        #savedTimeDisplay {
            font-size: 1rem;
            margin-top: 15px;
            font-weight: bold;
        }

        /* Notes Window */
        #notes {
            width: 300px;
            background: #fff;
            border-left: 2px solid #ccc;
            padding: 15px;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }

        #notes h2 {
            margin-top: 0;
            text-align: center;
            font-size: 1.2rem;
        }

        #notes textarea {
            width: 100%;
            flex: 1;
            resize: none;
            padding: 10px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            body {
                flex-direction: column;
            }

            #notes {
                width: 100%;
                border-left: none;
                border-top: 2px solid #ccc;
                box-shadow: none;
                height: 200px;
            }

            #notes textarea {
                height: 150px;
            }
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.5rem;
            }

            #timerDisplay {
                font-size: 1.5rem;
            }

            #questionDisplay {
                font-size: 1rem;
            }

            button {
                font-size: 12px;
                padding: 8px 12px;
            }

            #savedTimeDisplay {
                font-size: 0.9rem;
            }

            .log-entry {
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>


    <div class="main-container">
        <h1>Dynamic Practice Timer</h1>
        <div>
            <label>Number of Questions: </label>
            <input type="number" id="numQuestions" min="1" value="20"><br>
            <label>Total Time (minutes): </label>
            <input type="number" id="totalTime" min="1" value="240"><br>
            <button id="startBtn">Start Practice</button>
            <button id="pauseBtn" disabled>Pause</button>
            <button id="resumeBtn" disabled>Resume</button>
            <button id="doneBtn" disabled>Mark Done</button>
        </div>

        <div id="questionDisplay"></div>
        <div id="timerDisplay">00:00</div>
        <div id="savedTimeDisplay">Total Time Saved: 00:00</div>

        <div id="log">
            <h2>Question Log</h2>
        </div>
    </div>

    <!-- Notes Window -->
    <div id="notes">
        <h2>Notes</h2>
        <textarea placeholder="Write your temporary notes here..."></textarea>
    </div>

    <script>
        let totalQuestions, totalTime, currentQuestion = 0;
        let perQuestionTime = 0, questionTime = 0;
        let timerInterval;
        let isPaused = false;
        let totalSaved = 0;

        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resumeBtn = document.getElementById('resumeBtn');
        const doneBtn = document.getElementById('doneBtn');
        const timerDisplay = document.getElementById('timerDisplay');
        const questionDisplay = document.getElementById('questionDisplay');
        const logDiv = document.getElementById('log');
        const savedTimeDisplay = document.getElementById('savedTimeDisplay');

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function updateSavedDisplay() {
            savedTimeDisplay.textContent = `Total Time Saved: ${formatTime(totalSaved)}`;
        }

        function startQuestionTimer() {
            questionDisplay.textContent = `Question ${currentQuestion + 1} of ${totalQuestions}`;
            timerDisplay.textContent = formatTime(questionTime);
            doneBtn.disabled = false;

            timerInterval = setInterval(() => {
                if (!isPaused) {
                    questionTime--;
                    timerDisplay.textContent = formatTime(questionTime);
                    if (questionTime <= 0) {
                        clearInterval(timerInterval);
                        logQuestion(perQuestionTime, 0, false);
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function logQuestion(spentTime, savedTime, doneByUser) {
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';

            const text = document.createElement('span');
            text.textContent = `Question ${currentQuestion + 1}: Time spent = ${formatTime(spentTime)}, Time saved = ${formatTime(savedTime)}`;

            const status = document.createElement('span');
            status.className = 'status';
            status.textContent = doneByUser ? "✅" : "❌";
            status.style.color = doneByUser ? "green" : "red";

            logEntry.appendChild(text);
            logEntry.appendChild(status);
            logDiv.appendChild(logEntry);
        }

        function nextQuestion() {
            clearInterval(timerInterval);
            doneBtn.disabled = true;
            currentQuestion++;

            if (currentQuestion < totalQuestions) {
                questionTime = perQuestionTime;
                startQuestionTimer();
            } else {
                questionDisplay.textContent = "Practice session completed!";
                timerDisplay.textContent = "00:00";
                pauseBtn.disabled = true;
                resumeBtn.disabled = true;
                doneBtn.disabled = true;
            }
        }

        startBtn.addEventListener('click', () => {
            totalQuestions = parseInt(document.getElementById('numQuestions').value);
            totalTime = parseInt(document.getElementById('totalTime').value) * 60; 
            currentQuestion = 0;
            perQuestionTime = Math.floor(totalTime / totalQuestions);
            questionTime = perQuestionTime;
            totalSaved = 0;
            isPaused = false;

            startBtn.disabled = true;
            pauseBtn.disabled = false;
            resumeBtn.disabled = true;
            logDiv.innerHTML = "<h2>Question Log</h2>";
            updateSavedDisplay();

            startQuestionTimer();
        });

        pauseBtn.addEventListener('click', () => {
            isPaused = true;
            pauseBtn.disabled = true;
            resumeBtn.disabled = false;
        });

        resumeBtn.addEventListener('click', () => {
            isPaused = false;
            pauseBtn.disabled = false;
            resumeBtn.disabled = true;
        });

        doneBtn.addEventListener('click', () => {
            clearInterval(timerInterval);
            const savedTime = questionTime;
            const spentTime = perQuestionTime - savedTime;
            totalSaved += savedTime;
            updateSavedDisplay();
            logQuestion(spentTime, savedTime, true);
            nextQuestion();
        });
window.addEventListener("beforeunload", function (e) {
    e.preventDefault();
    e.returnValue = "";
});

    </script>
</body>
</html>
